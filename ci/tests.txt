# Test combinations for build system validation
# Format: test_name:STM=variant,VAR1=val1,VAR2=val2,CONFIG=config/file.mk
# Lines starting with # are ignored
#
# STM variant is required for each test
# CONFIG is optional - if not specified, no config is passed to make
# Other environment variables are optional

# All variants without config (uses Makefile default)
no-config-f401rb:STM=f401rb
no-config-f401rc:STM=f401rc
no-config-f411rc:STM=f411rc
no-config-f411re:STM=f411re
no-config-f405rg:STM=f405rg
no-config-f405rg:STM=f446rc
no-config-f446re:STM=f446re

# Use test config, one of each STM32F4 variant
basic-f401rb:STM=f401rb,CONFIG=config/test-sdrr-0.mk
basic-f411re:STM=f411re,CONFIG=config/test-sdrr-0.mk
basic-f405rg:STM=f405rg,CONFIG=config/test-sdrr-0.mk
basic-f446re:STM=f446re,CONFIG=config/test-sdrr-0.mk

# Enable MCO, one of each STM32F4 variant
mco-f401rb:MCO=1,STM=f401rb,CONFIG=config/test-sdrr-0.mk
mco-f411re:MCO=1,STM=f401rb,CONFIG=config/test-sdrr-0.mk
mco-f405rg:MCO=1,STM=f401rb,CONFIG=config/test-sdrr-0.mk
mco-f446re:MCO=1,STM=f401rb,CONFIG=config/test-sdrr-0.mk

# Disable BOOT_LOGGGING
no-boot-logging-f401rb:BOOT_LOGGING=0,STM=f401rb,CONFIG=config/test-sdrr-0.mk

# Disable BOOT_LOGGGING and SWD
no-boot-logging-no-swd-f401rb:BOOT_LOGGING=0,SWD=0,STM=f401rb,CONFIG=config/test-sdrr-0.mk

# PCB revisions
pcb-rev-d:HW_REV=d,STM=f401rb,CONFIG=config/test-sdrr-0.mk
pcb-rev-e:HW_REV=d,STM=f401rb,CONFIG=config/test-sdrr-0.mk

# Enable DEBUG_LOGGING
debug-logging-f401rb:DEBUG_LOGGING=1,STM=f401rb,CONFIG=config/test-sdrr-0.mk

# Enable MAIN_LOOP_LOGGING
main-loop-logging-f401rb:MAIN_LOOP_LOGGING=1,STM=f401rb,CONFIG=config/test-sdrr-0.mk

# DISABLE_PRELOAD_TO_RAM
disable-preload-to-ram-f401rb:DISABLE_PRELOAD_TO_RAM=1,STM=f401rb,CONFIG=config/test-sdrr-0.mk

# Disable status LED, PCB revision E
disable-status-led-f401rb:DISABLE_STATUS_LED=1,HW_REV=e,STM=f401rb,CONFIG=config/test-sdrr-0.mk

# Custom frequencies
freq-50hz-f401rb:FREQ=50,STM=f401rb,CONFIG=config/test-sdrr-0.mk
freq-92hz-f411re:FREQ=92,STM=f411re,CONFIG=config/test-sdrr-0.mk
freq-130hz-f405rg:FREQ=130,STM=f405rg,CONFIG=config/test-sdrr-0.mk
freq-170hz-f446re:FREQ=160,STM=f446re,CONFIG=config/test-sdrr-0.mk

# Overclocking
overclock-f401rb:OVERCLOCK=1,FREQ=100,STM=f401rb,CONFIG=config/test-sdrr-0.mk
overclock-f411re:OVERCLOCK=1,FREQ=110,STM=f411re,CONFIG=config/test-sdrr-0.mk
overclock-f405rg:OVERCLOCK=1,FREQ=180,STM=f405rg,CONFIG=config/test-sdrr-0.mk
overclock-f446re:OVERCLOCK=1,FREQ=200,STM=f446re,CONFIG=config/test-sdrr-0.mk
